{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style nonce="{{ request.csp_nonce }}">
        body {
            font-family: "BIZ UDPMincho", serif; 
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            background-color: #f0f0f0;
            box-sizing: border-box; /* Ensures padding and border are included in element's total width and height */
        }
        h1{
            font-family:"BIZ UDGothic", "Arial", sans-serif ;
            font-size: 1.4em; 
        }
        
        #setting{
        position: absolute;
        right: -3px;
        top: 85px;
        
        width: 29px;  
        height: 29px; 
        
        cursor: pointer;
        }
        
        
        #prev-move-btn, #next-move-btn {
        margin: 5px;
        padding: 5px 10px;
        font-size: 14px;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        display: inline-block;
        position: absolute;
        top: 30px;
        
        }
        #prev-move-btn {
        right: 55px;
        background-color: #a34d4d;
        
        }
        #next-move-btn {
        right: 10px;
        background-color: #55b149;
        
        }
        #black_circle{
        width: 15px;
        height: 15px;
        transform:translate(0, 1px);
        border-radius: 50%;
        background-color: black;
        display: inline-block;
        }
        #white_circle{
        width: 15px;
        height: 15px;
        transform:translate(0, 1px);
        border-radius: 50%;
        background-color: white;
        display: inline-block;
        }
        #score_black{
        width: 100px;
        text-align: right;
        font-weight: lighter;
        }
        #score_white{
        width: 100px;
        text-align: left;
        font-weight: lighter;
        
        }
        
        .marker {
        width: 10%;
        height: 10%;
        border-radius: 50%;
        background-color: black;
        position: relative;
        top: 52.3%;
        left: 51.9%;
        z-index: 10;
        
        }
        
        
        #game-container {
        text-align: center;
        width: 90%;
        height: 100%;
        max-width: 600px;
        box-sizing: border-box; 
        position: relative;
        margin-bottom: 50px;
        
        }
        .container{
        text-align: left;
        margin: 10px 10px 40px 10px;  
        }
        
        #board {
        display: grid;
        grid-template-columns: repeat(8, 1fr); /* Flexible grid columns */
        grid-gap: 2px;
        background-color: #008000;
        padding: 2%;
        margin: 0px;
        border-radius: 5px;
        aspect-ratio: 1 / 1; /* Maintain a square aspect ratio */
        height: 96%;;
        width: 96%; /* Full width of the container */
        }
        .row {
          display: contents; 
        
        }
        
        .cell {
        width: 100%;
        aspect-ratio: 1 / 1; /* Maintain a square shape */
        background-color: #00a000;
        border-radius: 8%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        }
        .valid-move {
        background-color: #00c000; /* å°‘ã—æ˜ã‚‹ã„ç·‘ */
        }
        .opponent-turn .valid-move{
          background-color: #00c000c0; 
        }
        .valid-move:hover {
        background-color: #00e000; /* ã‚ˆã‚Šæ˜ã‚‹ã„ç·‘ */
        }
        .opponent-turn .valid-move:hover {
        background-color: #00c000c0; 
        }
        .opponent-turn .cell {
          cursor: default;
        }
        
        
        .disc {
        width: 80%;
        height: 80%;
        border-radius: 50%;
        position: absolute;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 -2px 4px rgba(0, 0, 0, 0.2);
        }
        
        
        .last-move {
        box-shadow: 0 0 10px 2px rgba(255, 242, 0, 0.7); /* Yellow glow */
        border: 2px solid rgb(255, 64, 0);
        }
        .faint-disc {
        opacity: 0.5;
        width: 10%;
        height: 10%;
        border-radius: 50%;
        position: absolute; 
        }
        .black {
        background: radial-gradient(circle at 30% 30%, #333, #000);
        }
        
        .white {
        background: radial-gradient(circle at 30% 30%, #fff, #ccc);
        }
        
        .faint-black {
        background-color: #000;
        }
        .faint-white { 
        background-color: #fff;
        opacity: .7;
        }
        
        #status {
        margin-top: 20px;
        font-size: 18px;
        background-color: #e0e0e0;
        padding: 10px;
        border-radius: 5px;
        font-weight: bold;
        }
        
        .current-player {
        font-weight: bold;
        padding: 5px 10px;
        margin: -5px 5px;
        border-radius: 5px;
        color: white;
        }
        
        #c_black {
        background-color: black;
        float: left;
        color: white;
        }
        
        #c_white {
        background-color: #ffffff;
        color: white;
        float: right;
        color: black;
        }
        
        #move-history {
        margin-top: 20px;
        text-align: left;
        max-height: 200px;
        overflow-y: auto;
        background-color: #fff;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        box-sizing: border-box;
        position: relative;
        }
        
        #move-list {
        height: 45px;
        }
        
        .buttons_container {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 13px;
          margin-top: 19px;
        }
        
        #copy-url-btn{
        position: relative;
        padding: 10px 20px;
        width: 44px;
        height: 44px;
        font-size: 16px;
        background-color: #bedeff;
        background-image: url("{% static 'game/images/copy.png' %}");
        background-size:50%;
        background-position: center;
        background-repeat: no-repeat;
        color: white;
        border: none;
        border-radius: 5px;
        display: inline-block;
        
        cursor:copy;
        }
        
        #surrender-btn{
        padding: 10px 20px;
        font-size: 16px;
        background-color: #d32f2f;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        display: inline-block;
        transition: background-color 0.2s ease-in-out;
        }
        #surrender-btn:hover {
          background-color: #b71c1c;
        }
        
        #restart-btn{
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007508;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        display: inline-block;
        transition: background-color 0.2s ease-in-out;
        
        }
        #restart-btn:hover {
          background-color: #2e7d32;
        }
        
        #board-container {
          position: relative; 
          min-width: 96%;
        }
        #mode-selection-banner {
          position: relative;
          top: 10px; 
          left: 50%;
          transform: translateX(-50%);
          background: rgba(25, 25, 25, 0.7);
          padding: 7px;
          margin-bottom: 30px;
          border-radius: 5px;
          display: flex;
          justify-content: center; 
          align-items: center;
          z-index: 1000;
          width: auto;
          
        }
        
        .mode-btn {
          background: rgb(250, 250, 250);
          color: black;
          padding: 10px 15px;
          font-size: 16px;
          cursor: pointer;
          transition: background 0.3s ease-in-out;
          flex: 1;
          border: #000000 solid 1.3px;
          text-align: center;
          width:96%;
        }
        
        .mode-btn:hover {
          background: #009e00;
          color: white;
          transform: scale(1.05); 
        }
        
        /* ç¾åœ¨é¸æŠã•ã‚Œã¦ã„ã‚‹ãƒ¢ãƒ¼ãƒ‰ã®ãƒœã‚¿ãƒ³ */
        .mode-btn.active {
          background: #007508;
          color: white;
          font-weight: bold;
          box-shadow: 0 0 10px rgba(0, 117, 8, 0.5); 
        }
    </style>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="{% static 'game/style.css' %}" media="print" id="dynamic-css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDPMincho:wght@400;700&display=swap"
    media="print" id="dynamic-fonts" >
    <script nonce="{{ request.csp_nonce }}">
        const PLACE_STONE_SOUND = "{% static 'game/sounds/place-stone.mp3' %}";  
    </script>
    

    <script defer src="{% static 'game/script.js' %}"></script>

    <meta name="description" content="
    {% if mode == 'online' %}
        ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ãŒã§ãã‚‹ç„¡æ–™Webã‚²ãƒ¼ãƒ ã‚µã‚¤ãƒˆã€‚é›¢ã‚ŒãŸå ´æ‰€ã«ã„ã‚‹ç›¸æ‰‹ã¨ã‚‚ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§é€šä¿¡å¯¾æˆ¦ãŒå¯èƒ½ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã•ãˆã‚ã‚Œã°ã€ã‚ªã‚»ãƒ­ç›¤ã®ç”¨æ„ã‚„ã‚¢ãƒ—ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒä¸€åˆ‡ä¸è¦ï¼ã‚¹ãƒãƒ›ãƒ»PCãƒ»iPadãªã©å¥½ããªãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã€ã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ã®å‹é”å¯¾æˆ¦ãŒç„¡æ–™ã§ã§ãã‚‹Webã‚µã‚¤ãƒˆã§ã™ã€‚ï¼ˆæ—§ã‚µãƒ¼ãƒ“ã‚¹åï¼šã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­ï¼‰
    {% elif mode == 'ai' %}
        AIã¨ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰å¯¾æˆ¦ï¼ä¸€äººã§æ¥½ã—ã‚ã‚‹ç„¡æ–™Webã‚²ãƒ¼ãƒ ã§ã™ã€‚ã‚¹ãƒãƒ›ãƒ»PCãƒ»iPadãªã©ãƒ‡ãƒã‚¤ã‚¹ä¸€å°ã§ã€ãƒªãƒãƒ¼ã‚·ãŒç„¡æ–™ã§éŠã¹ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã•ãˆã‚ã‚Œã°ã€ã‚ªã‚»ãƒ­ç›¤ã®ç”¨æ„ã‚„ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ãªã„ã®ã§ã€Webä¸Šã§æ°—è»½ã«ã‚ªã‚»ãƒ­ã‚’æ¥½ã—ã¿ãŸã„äººã«ãŠã™ã™ã‚ï¼ï¼ˆæ—§ã‚µãƒ¼ãƒ“ã‚¹åï¼šã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­ï¼‰
    {% elif mode == 'player' %}
        ãƒªãƒãƒ¼ã‚·ãŒéŠã¹ã‚‹ç„¡æ–™ã®é›»å­ã‚ªã‚»ãƒ­ç›¤ï¼ã€‚ã‚ªã‚»ãƒ­ç›¤ã®ç”¨æ„ã‚„ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å¿…è¦ãªã—ï¼ãƒªãƒãƒ¼ã‚·ã®å‹é”å¯¾æˆ¦ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ã‚¹ãƒãƒ¼ãƒˆãªWebã‚ªã‚»ãƒ­ç›¤ã§ã™ã€‚ã‚¹ãƒãƒ›ãƒ»PCãƒ»iPadãªã©WebãŒä½¿ãˆã‚‹ãƒ‡ãƒã‚¤ã‚¹ä¸€å°ã‚ã‚Œã°ã©ã“ã§ã‚‚éŠã¹ã‚‹ã®ã§ã€æ—…è¡Œå…ˆã§ã®ãƒ¬ã‚¯ãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ã®å®šç•ªã§ã™ï¼ˆæ—§ã‚µãƒ¼ãƒ“ã‚¹åï¼šã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­ï¼‰
    {% else %}
        ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã®ç„¡æ–™Webã‚²ãƒ¼ãƒ ã€‚ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ãƒ»AIå¯¾æˆ¦ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ãŒå¯èƒ½ï¼ã‚¢ãƒ—ãƒªä¸è¦ã§ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã™ãéŠã¹ã¾ã™ã€‚ï¼ˆæ—§ã‚µãƒ¼ãƒ“ã‚¹åï¼šã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­ï¼‰
    {% endif %}
">

    <title>
        {% if mode == 'online' %}
            ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ | ãƒªãƒãƒ¼ã‚·Web - ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ç„¡æ–™ã‚²ãƒ¼ãƒ 
        {% elif mode == 'ai' %}
            ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰AIå¯¾æˆ¦ | ãƒªãƒãƒ¼ã‚·Web - ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ç„¡æ–™ã‚²ãƒ¼ãƒ 
        {% elif mode == 'player' %}
            ãƒªãƒãƒ¼ã‚·ï¼ˆé›»å­ã‚ªã‚»ãƒ­ç›¤ï¼‰ | ãƒªãƒãƒ¼ã‚·Web - ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ç„¡æ–™ã‚²ãƒ¼ãƒ 
        {% else %}
            ãƒªãƒãƒ¼ã‚·Web - ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ç„¡æ–™ã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ 
        {% endif %}
    </title>    
  
    <script async src="https://cdn.jsdelivr.net/npm/profanity-cleaner@latest?source=false"></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <meta property="og:title" content="ãƒªãƒãƒ¼ã‚·Web">
    <meta property="og:description" content="ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§æ¥½ã—ã‚ã‚‹ãƒªãƒãƒ¼ã‚·ã‚²ãƒ¼ãƒ ï¼ï¼ˆã‚ªã‚»ãƒ­ï¼‰">
    <meta property="og:image" content="{% static 'game/images/share-image.png' %}">
    <meta property="og:url" content="https://reversi.yuki-lab.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ãƒªãƒãƒ¼ã‚·Web | ç„¡æ–™ã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ">
    <meta name="twitter:description" content="ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸è¦ï¼å‹é”å¯¾æˆ¦ã‚„AIã¨ã®å¯¾æˆ¦ãŒå¯èƒ½ãªãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ãƒ ã§ã™">
    <meta name="twitter:image" content="{% static 'game/images/share-image.png' %}">
    <meta name="keywords" content="ãƒªãƒãƒ¼ã‚·Web, ã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­, ã‚ªã‚»ãƒ­, ãƒªãƒãƒ¼ã‚·, ã‚²ãƒ¼ãƒ , ç„¡æ–™, Web, ãŠã›ã‚, é›»å­ã‚ªã‚»ãƒ­ç›¤, ã‚ªã‚»ãƒ­AI, å‹é”å¯¾æˆ¦, ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ , ã‚ªãƒ³ãƒ©ã‚¤ãƒ³, ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼, ä¸€äººã§éŠã¹ã‚‹">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "SoftwareApplication",
            "name": "ãƒªãƒãƒ¼ã‚·Web - ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¹ã‚‹ç„¡æ–™ã‚²ãƒ¼ãƒ ",
            "additionalType": ["https://schema.org/VideoGame", "https://schema.org/WebApplication"],
            "applicationCategory": "Game",
            "alternateName": "ç„¡æ–™ã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ã®ã‚¹ãƒãƒ¼ãƒˆã‚ªã‚»ãƒ­",
            "description": "ä¸€äººã§éŠã¹ã‚‹AIå¯¾æˆ¦ã‚‚å‹é”ã¨ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦ã‚‚å¯èƒ½ãªç„¡æ–™ã®ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ï¼‰ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»Šã™ããƒ—ãƒ¬ã‚¤ï¼",
            "image": "https://reversi.yuki-lab.com/static/game/images/share-image.png",
            "url": "https://reversi.yuki-lab.com",
            "operatingSystem": "Web",
            "genre": "Board game",
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "JPY"
            },
            "hasPart": [
              {
                "@type": "WebPage",
                "name": "é›»å­ã‚ªã‚»ãƒ­ç›¤",
                "url": "https://reversi.yuki-lab.com/player"
              },
              {
                "@type": "WebPage",
                "name": "ã‚ªã‚»ãƒ­AIã¨å¯¾æˆ¦",
                "url": "https://reversi.yuki-lab.com/ai"
              },
              {
                "@type": "WebPage",
                "name": "é€šä¿¡å¯¾æˆ¦",
                "url": "https://reversi.yuki-lab.com/online"
              }]

          }
        </script>

    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="{% static 'game/images/favicon/favicon.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'game/images/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'game/images/favicon/favicon-16x16.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'game/images/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="48x48" href="{% static 'game/images/favicon/favicon-48x48.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'game/images/favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'game/images/favicon/favicon-192x192.png' %}">
    <link rel="manifest" href="{% static 'game/images/favicon/manifest.json' %}">
    
    <meta name="theme-color" content="#007508">

    <link rel="canonical" href="
    {% if mode == 'online' %}
        https://reversi.yuki-lab.com/online/
    {% elif mode == 'ai' %}
        https://reversi.yuki-lab.com/ai/
    {% elif mode == 'player' %}
        https://reversi.yuki-lab.com/player/
    {% else %}
        https://reversi.yuki-lab.com/
    {% endif %}
    ">

    
    <!-- Google Analytics æœ€é©åŒ– -->
    <script nonce="{{ request.csp_nonce }}">
        function loadGoogleAnalytics() {
            var script = document.createElement('script');
            script.src = "https://www.googletagmanager.com/gtag/js?id=G-4JKZC3VNE7";
            script.async = true;
            script.nonce = "{{ request.csp_nonce }}"; // CSPå¯¾å¿œ
            document.head.appendChild(script);

            script.onload = function () {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-4JKZC3VNE7', { 'cookie_domain': 'auto' });
            };
            if ('requestIdleCallback' in window) {
               // requestIdleCallback(loadAdSense);
            } else {
               // setTimeout(loadAdSense, 1000);
            }
        }

        


        function loadAdSense() {
            if (!window.adsLoaded) {
                window.adsLoaded = true;
                var script = document.createElement('script');
                script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1918692579240633";
                script.defer = true;
                script.nonce = "{{ request.csp_nonce }}"; // CSPå¯¾å¿œ
                document.head.appendChild(script);
            }
        }
        document.addEventListener("DOMContentLoaded", loadGoogleAnalytics);
    </script>
    
</head>
<body>
<div id="game-container">
        <!-- ãƒ¢ãƒ¼ãƒ‰é¸æŠãƒãƒŠãƒ¼ -->
        <div id="mode-selection-banner">
            <button class="mode-btn" data-mode="player">ã‚ªã‚»ãƒ­ç›¤</button>
            <button class="mode-btn" data-mode="ai">AIå¯¾æˆ¦</button>
            <button class="mode-btn" data-mode="online">é€šä¿¡å¯¾æˆ¦</button>
        </div>
        <h1 id="title">
            {% if mode == 'online' %}
                ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦
            {% elif mode == 'ai' %}
                ã‚ªã‚»ãƒ­AIå¯¾æˆ¦
            {% elif mode == 'player' %}
                ã‚ªã‚»ãƒ­ç›¤ãƒ¢ãƒ¼ãƒ‰
            {% else %}
                ãƒªãƒãƒ¼ã‚·Web
            {% endif %}
        </h1>
    
        <img src="{% static 'game/images/setting.svg' %}" alt="ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã®è¨­å®š" id="setting">
        <div id="player-info"><ul id="player-list"></ul></div>
        <span id="timer-display"></span>
        <div id="board-container">
            <div id="board" role="grid" >
            </div>
            
            {% if mode == 'online' %}
            <div id="game-settings-overlay">
                <div id="game-settings">
                    <h3>å¯¾æˆ¦è¨­å®š</h3>

                    <div id="contents-overlay-setting">
                        <div id="player-name-container">
                            <label for="player-name" id="label4name">è¡¨ç¤ºåï¼š</label>
                            <input type="text" id="player-name" placeholder="è‹±æ•°å­—ã®ã¿å…¥åŠ›å¯èƒ½">
                            <div id="warning"></div>
                          
                        </div>
                        <label id="time_overlay-label">æŒã¡æ™‚é–“ï¼š
                            <select id="time-limit">
                                <option value="0">åˆ¶é™ãªã—</option>
                                <option value="10">10ç§’</option>
                                <option value="30">30ç§’</option>
                                <option value="60">1åˆ†</option>
                                <option value="180">3åˆ†</option>
                                <option value="300">5åˆ†</option>
                            </select>
                        </label>
                        <br>
                        <label>
                            <input type="checkbox" id="highlight-moves" checked> æœ‰åŠ¹ãªæ‰‹ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
                        </label>
                    </div>
                    <div class="invite-container">

                    <button id="start-match" class="btn-primary">æ‹›å¾…URLã‚’ã‚³ãƒ”ãƒ¼</button>
                    <button id="qr">
                        <img src="{% static 'game/images/qr.svg' %}" alt="ã‚ªã‚»ãƒ­å¯¾æˆ¦ã¸ã®æ‹›å¾…ç”¨QRã‚³ãƒ¼ãƒ‰" id="qr-icon">
                    </button>
                    </div>
                </div>
            </div>
            <!-- QRã‚³ãƒ¼ãƒ‰ç”¨ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
            <div id="qr-popup" class="qr-popup">
                <div class="qr-popup-content">
                    <span id="close-qr" class="close">&times;</span>
                    <h3>æ‹›å¾…ç”¨QRã‚³ãƒ¼ãƒ‰</h3>
                    <div id="qrcode"></div>
                </div>
            </div>

            {% endif %}
        </div>
        <div id="status">
            <span class="current-player" id="c_black">é»’ç•ª</span>
            <div id="black_circle"></div>
            <span id="score_black"></span>ï¼š<span id="score_white"></span>
            <div id="white_circle"></div>

            <span class="current-player" id="c_white">ç™½ç•ª</span>

        </div>
        <div id="copy-tooltip" class="tooltip">ã‚³ãƒ”ãƒ¼ã—ã¦è¦³æˆ¦è€…ã‚„<br>å¯¾æˆ¦ç›¸æ‰‹ã‚’æ‹›å¾…ï¼</div>

    <div class="buttons_container">
        <button id="copy-url-btn" aria-label="ã‚ªã‚»ãƒ­ç›¤ã®ç›¤é¢ã‚’å…±æœ‰ã™ã‚‹URLã‚’ã‚³ãƒ”ãƒ¼"></button>
        <button id="surrender-btn" aria-label="æŠ•äº†">æŠ•äº†</button>
        <button id="restart-btn" aria-label="æ–°ã—ã„å¯¾å±€ã‚’é–‹å§‹">ğŸš© æ–°è¦å¯¾å±€</button>
    </div>
        <div id="move-history">
            <h3>æ£‹è­œ</h3>
            
            <button id="prev-move-btn">ï¼œ</button>
            <button id="next-move-btn">ï¼</button>
            
            <pre id="move-list">ã€€æ£‹è­œã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“</pre>

        </div>
        

        <div id="settings">
            <h3>è¨­å®š</h3>
            <div class="container">
                ğŸ”ˆ åŠ¹æœéŸ³ï¼š <br>
                <div id="soundSettingContainer">
                <label>
                    <input type="checkbox" id="gameEndSoundCheckbox" checked> å‹åˆ© / æ•—åŒ—
                </label> <br><br>
                <label>
                    <input type="checkbox" id="soundEffectsCheckbox" checked> çŸ³ã‚’ç½®ã
                </label> <br><br>
                <div id="timeLimitBox_">
                    <label>
                        <input type="checkbox" id="timeLimitSoundCheckbox" checked> æ®‹ã‚Šæ™‚é–“ã‚ã¨å°‘ã—
                    </label> <br><br>
                </div>
                <div id="playerJoinSoundBox">
                    <label>
                        <input type="checkbox" id="playerJoinSoundCheckbox" checked> ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å‚åŠ 
                    </label> <br><br>
                </div>
                

                </div>

               
                
                <div id="timeLimitContainer">
                <label>
                    â± ä¸€æ‰‹ã‚ãŸã‚Šã®æŒã¡æ™‚é–“ï¼š 
                    <select id="timeLimitSelect">
                        <option value="0">åˆ¶é™ãªã—</option>
                        <option value="300">5åˆ†</option>
                        <option value="180">3åˆ†</option>
                        <option value="60">1åˆ†</option>
                        <option value="30">30ç§’</option>
                        <option value="10">10ç§’</option>
                        
                    </select>
                </label>
                </div>
                <br>
                <label id="level_ai">
                    ğŸ¤– AIã®ãƒ¬ãƒ™ãƒ«ï¼š
                    <select id="aiLevelSelect">
                        <option value="0">åˆç´š</option>
                        <option value="2">ä¸­ç´š</option>
                        <option value="9">ä¸Šç´š</option>
                    </select>
                </label>
                <div id="validContainer">
                    <label>
                        ğŸ‘
                        <input type="checkbox" id="showValidMovesCheckbox" checked> æœ‰åŠ¹ãªæ‰‹ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                    </label>
                </div>
                <br>
                
               
             
                  

                <div class="caution">
                    â€» å¤‰æ›´å¾Œã®æŒã¡æ™‚é–“ã¯ã€æ¬¡ã®ä¸€æ‰‹ã‹ã‚‰é©ç”¨ã•ã‚Œã¾ã™ã€‚ <br>
                    â€» æŒã¡æ™‚é–“ãŒã‚¼ãƒ­ã«ãªã‚‹ã¨ <strong>ç›´ã¡ã«è² ã‘</strong> ã¨ãªã‚‹è¨­è¨ˆã®ãŸã‚ã€ã”æ³¨æ„ãã ã•ã„ã€‚ãã®ã¾ã¾URLã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€æŒã¡æ™‚é–“ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦å†é–‹ã§ãã¾ã™ã€‚                    
                    
                </div>
            </div>
        </div>  
        <!--<a href="https://pc.moppy.jp/entry/invite.php?invite=y22tA17c&type=service"><img decoding="async" loading="lazy" src="https://img.moppy.jp/pub/pc/friend/640x480-13.jpg" alt="ã‚¢ãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã§ç„¡æ–™ã§ç°¡å˜ã«ãƒã‚¤ãƒ³ãƒˆãŒè²¯ã¾ã‚‹ï¼æ¥½ã—ããƒã‚¤æ´»ã™ã‚‹ãªã‚‰ãƒ¢ãƒƒãƒ”ãƒ¼" id="ad" ></a>
        -->
    <section class="notes">
        <h2>æœ¬ã‚µã‚¤ãƒˆãƒ»ãƒªãƒãƒ¼ã‚·Webã®æ©Ÿèƒ½</h2>
        <p>ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ï¼‰ãŒç„¡æ–™ã§ã™ãéŠã¹ã‚‹Webã‚µã‚¤ãƒˆã§ã™ã€‚<a href="https://reversi.yuki-lab.com/ai/">CPUå¯¾æˆ¦</a>ã€<a href="https://reversi.yuki-lab.com/online/">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦</a>ã€<a href="https://reversi.yuki-lab.com/player/">é›»å­ã‚ªã‚»ãƒ­ç›¤ãƒ¢ãƒ¼ãƒ‰</a>ãªã©ã€æ§˜ã€…ãªæ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ <strong>ç‹¬è‡ªã®URLã‚·ã‚§ã‚¢æ©Ÿèƒ½</strong> ã«ã‚ˆã£ã¦ã€å‹é”ã¨ã®å¯¾æˆ¦ã‚„è¦³æˆ¦ã€æ£‹è­œã®å…±æœ‰ãªã©ãŒç°¡å˜ã«è¡Œãˆã‚‹ç‚¹ã‚‚ç‰¹å¾´ã§ã™</p>
        <h3>æ©Ÿèƒ½ã®ã‚ªãƒ³ãƒ»ã‚ªãƒ•</h3>
        <p>åŠ¹æœéŸ³ãƒ»ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºãƒ»åˆ¶é™æ™‚é–“ã®æ©Ÿèƒ½ã¯ã€<a href="#settings">ã€Œè¨­å®šã€</a>ã‹ã‚‰ã‚ªãƒ³ãƒ»ã‚ªãƒ•ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚æ¬¡å›ä»¥é™ã«åŒã˜ãƒ–ãƒ©ã‚¦ã‚¶ã§éŠã¶å ´åˆã‚‚ãã®è¨­å®šã‚’å¼•ãç¶™ã’ã¾ã™ã€‚</p>
        <div class="small">â€» ãŸã ã—é€šä¿¡å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ãŒé¸æŠã•ã‚ŒãŸå ´åˆã¯ã€é€šä¿¡å¯¾æˆ¦ã«ãŠã‘ã‚‹è¨­å®šã«åˆã‚ã›ã¦ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºè¨­å®šãŒå¤‰æ›´ã•ã‚Œã¾ã™ã€‚</div>
        <h3>ã‚¢ãƒ—ãƒªç‰ˆã§éŠã¶</h3>
        <p>æœ¬ã‚µã‚¤ãƒˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ãƒ ã§ã™ãŒã€Webã‚¢ãƒ—ãƒªï¼ˆPWAï¼‰ã¨ã—ã¦ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚Webã‚¢ãƒ—ãƒªã®ç‰¹å¾´ã¨ã—ã¦ã€ãƒ‡ãƒã‚¤ã‚¹ã®å®¹é‡ã¯ã»ã¼æ¶ˆè²»ã›ãšã€ã•ã‚‰ã«èµ·å‹•ã‚‚é«˜é€Ÿã«ãªã‚Šã¾ã™ã€‚ã‚¢ãƒ—ãƒªç‰ˆã§ã¯ä¸»ãªæ©Ÿèƒ½ã‚’ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚¢ãƒ—ãƒªè¨­ç½®ã®æ‰€è¦æ™‚é–“ã¯æ•°ç§’ã§ã™ã€‚ãœã²ãŠè©¦ã—ãã ã•ã„</p>
        <button id="install-btn">Webã‚¢ãƒ—ãƒªã¨ã—ã¦ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </button>


    </section>

    <section class ="notes" id="rules">
        <h2>ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã®ãƒ«ãƒ¼ãƒ«</h2>
    
        <h3>åŸºæœ¬ãƒ«ãƒ¼ãƒ«</h3>
        <p>ãƒªãƒãƒ¼ã‚·ã¯ 8Ã—8 ã®ç›¤é¢ã§è¡Œã†ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ã§ã™ã€‚ã€Œã‚ªã‚»ãƒ­ã€ã¨ã„ã†åå‰ã§ã‚‚è¦ªã—ã¾ã‚Œã¦ã„ã¾ã™ã€‚æœ¬ã‚²ãƒ¼ãƒ ã®å¯¾æˆ¦ã¯ã€ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã§é€²è¡Œã—ã¾ã™ã€‚</p>
        <ul>
            <li>ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã¯ä¸­å¤®ã«é»’ã¨ç™½ã®çŸ³ãŒ 2 å€‹ãšã¤é…ç½®ã•ã‚Œã¾ã™ã€‚</li>
            <li>é»’ãŒå…ˆæ‰‹ã€ç™½ãŒå¾Œæ‰‹ã§äº¤äº’ã«æ‰‹ã‚’æ‰“ã¡ã¾ã™ã€‚</li>
            <li>ç›¸æ‰‹ã®çŸ³ã‚’æŒŸã‚€ã¨ã€è‡ªåˆ†ã®çŸ³ã«å¤‰ã‚ã‚Šã¾ã™ã€‚ç¸¦ãƒ»æ¨ªãƒ»æ–œã‚ã®ã©ã®æ–¹å‘ã§ã‚‚æŒŸã‚€ã“ã¨ãŒã§ãã¾ã™</li>
            <li>è‡ªåˆ†ã®çŸ³ã¯ã€ç›¸æ‰‹ã®çŸ³ã‚’æŒŸã‚“ã§å–ã‚Œã‚‹å ´æ‰€ï¼ˆ <strong>åˆæ³•æ‰‹</strong> ï¼‰ã«ç½®ãã“ã¨ãŒã§ãã¾ã™ã€‚</li>
            <li>è‡ªåˆ†ã® <strong>ã€åˆæ³•æ‰‹ã€‘</strong> ãŒãªã„å ´åˆã¯ã€è‡ªå‹•çš„ã«ç›¸æ‰‹ã®ç•ªã¸ <strong>ã€ãƒ‘ã‚¹ã€‘</strong> ã•ã‚Œã¾ã™ã€‚ä¸¡è€…ã¨ã‚‚ <strong>ã€ãƒ‘ã‚¹ã€‘</strong> ã«ãªã£ãŸå ´åˆã¯ã‚²ãƒ¼ãƒ çµ‚äº†ã§ã™ã€‚</li>
        </ul>
    
        <h3>ã€åˆæ³•æ‰‹ã€‘ã«ã¤ã„ã¦</h3>
        <p>æœ¬ã‚²ãƒ¼ãƒ ã§ã¯ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ‰“ã¦ã‚‹ <strong>ã€åˆæ³•æ‰‹ã€‘</strong> ã‚’è‡ªå‹•ã§åˆ¤å®šã—ã€è¦–èªã—ã‚„ã™ã„ã‚ˆã†ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ©Ÿèƒ½ã¯è¨­å®šã‹ã‚‰ã‚ªãƒ•ã«ã§ãã¾ã™</p>
    
        <h3>æ™‚é–“åˆ¶é™</h3>
        <p>ã‚²ãƒ¼ãƒ ã®ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã‚’é«˜ã‚ã‚‹ãŸã‚ã« <strong>åˆ¶é™æ™‚é–“</strong> ã‚’è¨­å®šã§ãã¾ã™ã€‚æœ€çŸ­ã§ã¯ <strong>10ç§’ãƒ«ãƒ¼ãƒ«</strong> ã®è¶…é«˜é€Ÿå¯¾å±€ã‚‚å¯èƒ½ã§ã™ï¼</p>
    
        <h3>å‹åˆ©æ¡ä»¶</h3>
        <ul>
            <li>ã‚²ãƒ¼ãƒ çµ‚äº†æ™‚ã«ã€è‡ªåˆ†ã®çŸ³ã®æ•°ãŒç›¸æ‰‹ã‚ˆã‚Šå¤šã‘ã‚Œã°å‹åˆ©ã¨ãªã‚Šã¾ã™ã€‚åŒæ•°ã®å ´åˆã¯å¼•ãåˆ†ã‘ã§ã™ã€‚</li>
            <li><strong>åˆ¶é™æ™‚é–“</strong> ã®ã‚ã‚‹å¯¾å±€ã§ã¯ã€ç›¸æ‰‹ãŒæ™‚é–“åˆ‡ã‚Œã«ãªã£ãŸå ´åˆã‚‚å‹åˆ©ã¨ãªã‚Šã¾ã™</li>
            <li><a href="https://reversi.yuki-lab.com/online/">é€šä¿¡å¯¾æˆ¦</a> ã§ã¯ã€<strong>æŠ•äº†</strong> ãƒœã‚¿ãƒ³ãŒä½¿ãˆã¾ã™ã€‚ç›¸æ‰‹ãŒ <strong>æŠ•äº†</strong> ã—ãŸå ´åˆã€è‡ªåˆ†ã®å‹åˆ©ã¨ãªã‚Šã¾ã™</li>
        </ul>
    </section>
    <section class ="notes" id="blog">
        <h3>ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã§å‹ã¤ãŸã‚ã®ã‚³ãƒ„</h3>
        <p>æœ¬ã‚µã‚¤ãƒˆãƒ»ãƒªãƒãƒ¼ã‚·Webã®é–‹ç™ºè€…ãŒåŸ·ç­†ã—ãŸ<a href="https://reversi.yuki-lab.com/strategy-reversi-othello.html">ã“ã¡ã‚‰ã®è¨˜äº‹</a> ã§ã¯ã€ã‚ªã‚»ãƒ­ã‚²ãƒ¼ãƒ ã®ä¸­ãƒ»ä¸Šç´šè€…å‘ã‘æ”»ç•¥æ³•ã‚’ç„¡æ–™ã§ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚ãœã²ã”è¦§ãã ã•ã„</p>
    </section>
    <!-- iOSå°‚ç”¨ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰ -->
    <div id="ios-install-guide" class="install-guide">
        <div class="install-guide-content">
            <h5>ã€Œãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã€ã§ã‚‚ã£ã¨å¿«é©ã«éŠã¹ã¾ã™!</h5>
            <ul>
                <li>âœ…ï¸ Webã‚¢ãƒ—ãƒªã ã‹ã‚‰ã‚¢ãƒ—ãƒªå®¹é‡ã¯ã»ã¼0ï¼</li>
                <li>âœ…ï¸ é«˜é€Ÿã«èµ·å‹•ã—ã¦æ™‚çŸ­ï¼</li>
                <li>âœ…ï¸ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚ä¸€éƒ¨éŠã¹ã‚‹ï¼</li>
            </ul>            
        </div>
            <div class="guide-icons">
                <img src="/static/game/images/share-icon.jpg" alt="ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã‚’å…±æœ‰ã™ã‚‹ãƒœã‚¿ãƒ³" class="icon">
                <span class="arrow">â¡ï¸</span>
                <img src="/static/game/images/install-guide.png" alt="ãƒªãƒãƒ¼ã‚·ï¼ˆã‚ªã‚»ãƒ­ï¼‰ã‚’ç„¡æ–™ã§ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ " id="install-guide-img" loading="lazy">
            </div>
            <button id="close-install-guide">âœ–ï¸ é–‰ã˜ã‚‹</button>
        
    </div>

    <div class="credit">
            <!--copyright-->
            Â© 2024~ Yuki-Lab |
            æœ¬ã‚²ãƒ¼ãƒ ã§ã¯ã€å¤šãã®äººã«ã¨ã£ã¦èª­ã¿ã‚„ã™ã„ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™
    </div>
</div>

    <audio id="victorySound" src="{% static 'game/sounds/victory.mp3' %}" preload="auto"></audio>
    <audio id="defeatSound" src="{% static 'game/sounds/defeat.mp3' %}" preload="auto"></audio>
    <audio id="warningSound" src="{% static 'game/sounds/warning.mp3' %}" preload="auto"></audio>
    <audio id="playerJoin" src="{% static 'game/sounds/playerJoin.mp3' %}" preload="auto"></audio>
</body>

<script nonce="{{ request.csp_nonce }}" >
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register("{% static 'game/sw.js' %}")
        .then(registration => console.log("Service Worker registered:", registration))
        .catch(error => console.log("Service Worker registration failed:", error));
    }
</script>
</html>